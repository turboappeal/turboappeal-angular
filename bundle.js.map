{"version":3,"sources":["webpack:///webpack/bootstrap fccccd8af6c681b8faf7","webpack:///./src/app.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap fccccd8af6c681b8faf7\n **/","// Generated by typings\n// Source: https://raw.githubusercontent.com/DefinitelyTyped/DefinitelyTyped/7de6c3dd94feaeb21f20054b9f30d5dabc5efabd/jssha/jssha-1.6.0.d.ts\ndeclare namespace CryptoJS {\n    export interface CryptoJS {\n        HmacSHA256(text:string, secret:string):string;\n    }\n}\n\ndeclare var CryptoJS: CryptoJS.CryptoJS;\nexport interface IAuthenticationInterceptor {\n    request(request): ng.IPromise<any>;\n    requestError(requestError): void;\n    response(response): void;\n    responseError(responseError): void;\n}\nexport class AuthenticationProvider implements ng.IServiceProvider{\n    private static $inject: Array<string> = [];\n    private publicKey: string;\n    private privateKey: string;\n    constructor() {\n      this.$get.$inject = [];\n    }\n    public setPublicKey = (key) => {\n      this.publicKey = key;\n      return this.publicKey;\n    }\n    public setSecretKey = (key) => {\n      this.privateKey = key;\n      return this.privateKey;\n    }\n    public getKey = () => {\n      return this.publicKey;\n    }\n    public getSecret = () => {\n      return this.privateKey;\n    }\n    public $get(){\n        return new AuthenticationProvider;\n    }\n}\nexport class AuthenticationInterceptor implements IAuthenticationInterceptor {\n    private static $inject: Array<string> = ['$q', '$location', '$injector', 'turboappealProvider'];\n    private tsHeader: string;\n    private authKeyHeader: string;\n    private authSigHeader: string;\n    private authHeader: string;\n    private publicKey: string;\n    private privateKey: string;\n    constructor(private $q: ng.IQService, private $location: ng.ILocationService, private $injector: ng.auto.IInjectorService, private AuthConfig: AuthenticationProvider) {\n        this.tsHeader = 'Timestamp';\n        this.authKeyHeader = 'Authentication-Key';\n        this.authSigHeader = 'Authentication-Signature';\n        this.authHeader = 'Authorization';\n        this.publicKey = AuthConfig.getKey();\n        this.privateKey = AuthConfig.getSecret();\n    }\n    public request = (req) => {\n      this.publicKey = this.AuthConfig.getKey();\n      this.privateKey = this.AuthConfig.getSecret();\n\n      if (req.skipAuthorization || req.url.indexOf('.turboappeal.com/') == -1)\n          return req;\n\n      // Get the req headers if they exist\n      req.headers = req.headers || {};\n\n      // Already has an Authorization key header\n      if (req.headers[this.authKeyHeader] || !this.privateKey || !this.publicKey)\n          return req;\n\n      // Timestamp\n      // Method Verb (GET, UPDATE, PUT, POST, DELETE)\n      // Uri (decoded)\n      // Separated with \\n\n      var timestamp = moment().format('MM/DD/YYYY hh:mm:ss A');\n      var hashedSig;\n      req.headers[this.tsHeader] = timestamp;\n      req.headers[this.authKeyHeader] = this.publicKey;\n      var shaObj = CryptoJS.HmacSHA256(timestamp + '\\n' + req.method + '\\n' + req.url.substr(req.url.indexOf('/')), this.privateKey);\n      req.headers[this.authSigHeader] = shaObj.toString();\n\n      return req;\n    }\n\n    public requestError = (requestError) => {\n      return requestError;\n    };\n    public response = (response) => {\n      return response;\n    };\n    public responseError = (responseError) => {\n      return responseError;\n    };\n    public static Factory($q: ng.IQService, $location: ng.ILocationService, $injector: ng.auto.IInjectorService, AuthConfig: AuthenticationProvider){\n        return new AuthenticationInterceptor($q, $location, $injector, AuthConfig);\n    }\n}\nangular.module('turboappealApi', [])\n.provider('turboappealProvider', AuthenticationProvider)\n.factory('turboappealSignature', ['$q', '$location', '$injector', 'turboappealProvider', AuthenticationInterceptor.Factory]);\n\n\n/** WEBPACK FOOTER **\n ** ./src/app.ts\n **/"],"sourceRoot":""}